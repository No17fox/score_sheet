#  学生成绩单-命令行版
## Tasking

![](http://ww1.sinaimg.cn/large/98792392ly1fys7onyp7dj20qq133gmz.jpg)

## 实现思路

上述 tasking 可划分为四个主要模块：

1. 打印主菜单
2. 添加学生信息
3. 打印成绩单
4. 退出系统



**添加学生信息** 和 **打印成绩单** 均包含了 **提示输入信息格式** 和 **提示非法输入** 两个步骤，因此可以创建一个名为`Build`的基类，该基类包含了`printPrompt()`和`promptIllegalInput()`两个方法。

该方法可以进一步派生出`AddStudentInfor`和`BuildScoreSheet`两个派生类，这两个类具有完成 **添加学生信息** 和 **打印成绩单** 这两个功能的全部方法。

由`AddStudentInfor`类生成的对象实例具有名为`stuentDatabase`的属性，该属性存储了所添加的所有的学生的信息。其中每个学生的信息均为一个 Object ，可由`Student`类创建并为其添加不同的属性。

由`BuildScoreSheet`类生成的对象实例具有名为`scoreReport`的属性，该属性的值为 Object 类型，存储了成绩单应包含的所有数据。

由主菜单进入各功能模块的逻辑由`switch...case`语句实现。

## 如何运行测试

### 测试单个模块

`./spec/`文件夹中包含了各模块的测试文件，测试通过`jasmine`实现，运行测试的方法为：

1. 从终端进入项目文件夹

2. 在node中输入

   ```
   npm run test-single spec/*.js
   ```

   即可运行相应的测试

### 测试整个系统

测试整个系统的方法为：

1. 在node中输入

   ```
   node app.js
   ```

   会打印主菜单：

   ```
   1. 添加学生
   2. 生成成绩单
   3. 退出
   请输入你的选择(1~3):
   ```

2. 输入编号进入相应的功能，如果输入了除`1/2/3`之外的字符会提示

   ```
   请输入正确的数字
   ```

3. 如果输入`1`则进入`添加学生成绩`的功能，会提示

   ```
   请输入学生信息（格式：姓名，学号，学科：成绩，...），按回车提交：
   ```

4. 输入学生信息

   如果输入格式不正确，会返回

   ```
   请按正确的格式输入学生信息（格式：姓名，学号，学科：成绩，...），按回车提交：
   ```

   如果输入格式正确，会返回

   ```
   学生xxx的成绩被添加
   ```

   并打印出主菜单

5. 如果输入`2`则进入`生成成绩单`的功能，会提示

   ```
   请输入要打印的学生的学号（格式：学号，学号，...），按回车提交：
   ```

6. 输入要打印的学生的学号

   如果输入格式不正确，会返回

   ```
   请按正确的格式输入要打印的学生的学号（格式：学号，学号，...），按回车提交：
   ```

   如果输入格式正确，会打印出成绩单

   并打印出主菜单

7. 如果输入`3`则退出系统